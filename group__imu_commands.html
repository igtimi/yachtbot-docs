<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Igtimi Yachtbot Firmware: IMU Commands</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Igtimi Yachtbot Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">IMU Commands</div></div>
</div><!--header-->
<div class="contents">
<p>Commands for the IMU. They are prefixed by "IMU".</p>
<dl class="imu_on"><dt><b><a class="el" href="imu_on.html#_imu_on000001">ON:</a></b></dt><dd>"IMU ON (STOP)"<br  />
Powers on the IMU module. Optional STOP then does "IMU STOP" to prevent polling</dd></dl>
<dl class="imu_off"><dt><b><a class="el" href="imu_off.html#_imu_off000001">OFF:</a></b></dt><dd>"IMU OFF" <br  />
Powers off the IMU module.</dd></dl>
<dl class="imu_logtype"><dt><b><a class="el" href="imu_logtype.html#_imu_logtype000001">LOGTYPE:</a></b></dt><dd>"IMU LOGTYPE (SENSOR)/TIMED" <br  />
Sets the imu log type. Timed -&gt; imu.nma, Sensor (default) -&gt; .nma</dd></dl>
<dl class="imu_fault"><dt><b><a class="el" href="imu_fault.html#_imu_fault000001">FAULT:</a></b></dt><dd>"IMU FAULT" <br  />
Simulates an IMU error.</dd></dl>
<dl class="imu_status"><dt><b><a class="el" href="imu_status.html#_imu_status000001">STATUS:</a></b></dt><dd>"IMU STATUS" <br  />
Reports IMU status.</dd></dl>
<dl class="imu_freset"><dt><b><a class="el" href="imu_freset.html#_imu_freset000001">FRESET:</a></b></dt><dd>"IMU FRESET" <br  />
Performs a factory reset (needs to be saved).</dd></dl>
<dl class="imu_save"><dt><b><a class="el" href="imu_save.html#_imu_save000001">SAVE:</a></b></dt><dd>"IMU SAVE" <br  />
Saves IMU configuration.</dd></dl>
<dl class="imu_id"><dt><b><a class="el" href="imu_id.html#_imu_id000001">ID:</a></b></dt><dd>"IMU ID" <br  />
Show IMU information.</dd></dl>
<dl class="imu_accrange"><dt><b><a class="el" href="imu_accrange.html#_imu_accrange000001">ACCRANGE:</a></b></dt><dd>"IMU ACCRANGE (2G/4G/8G)" <br  />
Get or set accelerometer range.</dd></dl>
<dl class="imu_filter"><dt><b><a class="el" href="imu_filter.html#_imu_filter000001">FILTER:</a></b></dt><dd>"IMU FILTER (IMU/KALMAN/QCOMP/QGRAD/QGRAD2)" <br  />
Get or set IMU filter mode.</dd></dl>
<dl class="imu_config"><dt><b><a class="el" href="imu_config.html#_imu_config000001">CONFIG:</a></b></dt><dd>"IMU CONFIG (GET/SET KALMAN/SET QGRAD2)" <br  />
Get or set IMU generic configuration.</dd></dl>
<dl class="imu_refmode"><dt><b><a class="el" href="imu_refmode.html#_imu_refmode000001">REF:</a></b></dt><dd>"IMU REF (STATIC/AUTO/CONTINUOUS)" <br  />
Get or set IMU reference mode.</dd></dl>
<dl class="imu_euleroffset"><dt><b><a class="el" href="imu_euleroffset.html#_imu_euleroffset000001">EULER OFFSET:</a></b></dt><dd>"IMU EULER OFFSET (&lt;p&gt; &lt;y&gt; &lt;r&gt;)" <br  />
Get or set orientation euler offsets.</dd></dl>
<dl class="imu_oversample"><dt><b><a class="el" href="imu_oversample.html#_imu_oversample000001">OVERSAMPLE:</a></b></dt><dd>"IMU OVERSAMPLE (&lt;G&gt; &lt;A&gt; &lt;M&gt;)" <br  />
Get or set oversample parameters.</dd></dl>
<dl class="imu_tare"><dt><b><a class="el" href="imu_tare.html#_imu_tare000001">TARE:</a></b></dt><dd>"IMU TARE(CURRENT/UNITY)" <br  />
Get or set IMU Tare matrix.</dd></dl>
<dl class="imu_gyro"><dt><b><a class="el" href="imu_gyro.html#_imu_gyro000001">GYROCAL:</a></b></dt><dd>"IMU GYROCAL (PERFORM)" <br  />
Get or perform Gyro calibration.</dd></dl>
<dl class="imu_cal"><dt><b><a class="el" href="imu_cal.html#_imu_cal000001">CAL:</a></b></dt><dd>Calibration engine commands. Only included with WindBot target builds </dd></dl>
<table class="doxtable">
<tr>
<th>Command </th><th>Description  </th></tr>
<tr>
<td>IMU CAL (GET) </td><td>Returns calibration parameters  </td></tr>
<tr>
<td>IMU CAL FROM FILE/&lt;filename&gt; </td><td>Sets calibration parameters from IMU.CAL or &lt;filename&gt;  </td></tr>
<tr>
<td>IMU CAL START (&lt;time&gt;/FROM FILE/FROM &lt;file&gt;) </td><td>Begins a calibration cycle.  </td></tr>
<tr>
<td>IMU CAL REPORT(&lt;time&gt;) </td><td>Begins a calibration report cyle  </td></tr>
</table>
<p><br  />
</p>
<dl class="imu_data"><dt><b><a class="el" href="imu_data.html#_imu_data000001">DATA:</a></b></dt><dd>These commands return sensor data, or orientation estimation </dd></dl>
<table class="doxtable">
<tr>
<th>Command </th><th>Description  </th></tr>
<tr>
<td>IMU RAW </td><td>Geta all RAW sensor data  </td></tr>
<tr>
<td>IMU CORRECTED </td><td>Get all CORRECTED sensor data  </td></tr>
<tr>
<td>IMU QUAT </td><td>Get sensor orientation as Quaternion  </td></tr>
<tr>
<td>IMU EULER (UNTARED) </td><td>Get (untared) sensor orientation as Euler  </td></tr>
<tr>
<td>IMU ACCEL (RAW/NO_G) </td><td>Get corrected, raw, or corrected without G sensor acceleration  </td></tr>
</table>
<p><br  />
 </p><dl class="imu_start"><dt><b><a class="el" href="imu_start.html#_imu_start000001">START:</a></b></dt><dd>"IMU START"<br  />
Starts polling IMU according to MESSAGE configuration. <br  />
 Implied by IMU ON unless disabled with IMU STOP.</dd></dl>
<dl class="imu_stop"><dt><b><a class="el" href="imu_stop.html#_imu_stop000001">STOP:</a></b></dt><dd>"IMU STOP" <br  />
Stops polling IMU.</dd></dl>
<dl class="imu_rate"><dt><b><a class="el" href="imu_rate.html#_imu_rate000001">RATE:</a></b></dt><dd>"IMU RATE &lt;x&gt;" <br  />
sets the base polling rate for messages. Defaults to 100</dd></dl>
<dl class="imu_message"><dt><b><a class="el" href="imu_message.html#_imu_message000001">MESSAGE:</a></b></dt><dd></dd></dl>
<table class="doxtable">
<tr>
<th>Command </th><th>Description  </th></tr>
<tr>
<td>IMU MESSAGE [TYPE] OFF </td><td>Disables the message type  </td></tr>
<tr>
<td>IMU MESSAGE [TYPE] &lt;divisor&gt; </td><td>Enables message, with no logging or live data  </td></tr>
<tr>
<td>IMU MESSAGE [TYPE] &lt;divisor&gt; LOG &lt;xyz&gt; </td><td>Enables message with logging, no live data  </td></tr>
<tr>
<td>IMU MESSAGE [TYPE] &lt;divisor&gt; LOG &lt;xyz&gt; &lt;live divisor&gt; LIVE &lt;xyz&gt; </td><td>Enables message with logging and live data  </td></tr>
<tr>
<td>IMU MESSAGE [TYPE] &lt;divisor&gt; &lt;live divisor&gt; LIVE &lt;xyz&gt; </td><td>Enables message with live data, no logging  </td></tr>
</table>
<p><em>Note:</em> &lt;xyz&gt; arguments are optional and spatial.<br  />
</p>
<dl class="imu_orientatation"><dt><b><a class="el" href="imu_orientatation.html#_imu_orientatation000001">ORIENTATION [DECK/BOW/STERN/PORT/STARBOARD]:</a></b></dt><dd>Sets the orientation of the IMU. Note: This only affects the Orientation estimation, not Magnetometer, Accelerometer or Gyro data.<br  />
AXES is a synonym.<br  />
<br  />
DECK: YachtBot is placed flat on the deck with the GPS antenna facing towards the bow, and the sticker pointing to the sky.<br  />
BOW: YachtBot is mounted on the bow (front) with the GPS antenna facing the sky, and the sticker pointing forwards.<br  />
STERN: YachtBot is mounted on the stern (back) with the GPS antenna facing the sky, and the sticker pointing backwards.<br  />
PORT: YachtBot is mounted on the port (left) side with the GPS antenna facing the sky, and the sticker pointing away from the boat<br  />
STARBOARD: YachtBot is mounted on the starboard (right) side with the GPS antenna facing the sky, and the sticker pointing away from the boat<br  />
UNITY: Unity used the natural axes of the IMU. This is. +tve X is out the bung, +tve Y is out the bottom of the case, +tve Z is to the left.<br  />
 <br  />
 </dd></dl>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 23 2025 11:23:43 for Igtimi Yachtbot Firmware by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
