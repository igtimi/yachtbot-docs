<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>uTrack: uTrack/utCell.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">uTrack
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a4e24aea86a0dbe5a7267615eff7c74c.html">uTrack</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">utCell.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The cell software module handles configuring and running the cell hardware by means of a state engine.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;uTrack.h&quot;</code><br />
<code>#include &quot;utCell.h&quot;</code><br />
<code>#include &quot;utHAL.h&quot;</code><br />
<code>#include &quot;utRingBuffer.h&quot;</code><br />
<code>#include &quot;utCommands.h&quot;</code><br />
<code>#include &quot;utNmeaParser.h&quot;</code><br />
<code>#include &quot;utServerLocation.h&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &quot;utJSON_Factory.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_cell_state_data.html">CellStateData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structoperator__type.html">operator_type</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_n_type.html">APNType</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_n_config.html">APNConfig</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_cell_config.html">CellConfig</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3584a4caf9fb1846a352b204507eb198"><td class="memItemLeft" align="right" valign="top"><a id="a3584a4caf9fb1846a352b204507eb198" name="a3584a4caf9fb1846a352b204507eb198"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LEN_MODEL</b>&#160;&#160;&#160;15</td></tr>
<tr class="memdesc:a3584a4caf9fb1846a352b204507eb198"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum string length for the cell chip model name. <br /></td></tr>
<tr class="separator:a3584a4caf9fb1846a352b204507eb198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e2bb8a0c3be86b6bc337e4290751cf"><td class="memItemLeft" align="right" valign="top"><a id="a84e2bb8a0c3be86b6bc337e4290751cf" name="a84e2bb8a0c3be86b6bc337e4290751cf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LEN_VERSION</b>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:a84e2bb8a0c3be86b6bc337e4290751cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum string length for the cell chip model version. <br /></td></tr>
<tr class="separator:a84e2bb8a0c3be86b6bc337e4290751cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfdf739354e2e9e73709cea8812214de"><td class="memItemLeft" align="right" valign="top"><a id="acfdf739354e2e9e73709cea8812214de" name="acfdf739354e2e9e73709cea8812214de"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TELSTRA_AUTOBAND_2G</b>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:acfdf739354e2e9e73709cea8812214de"><td class="mdescLeft">&#160;</td><td class="mdescRight">The 2G autoband setting for the Telstra cell chips. <br /></td></tr>
<tr class="separator:acfdf739354e2e9e73709cea8812214de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcc2f22975bd50ed678fd8cc68f991fd"><td class="memItemLeft" align="right" valign="top"><a id="afcc2f22975bd50ed678fd8cc68f991fd" name="afcc2f22975bd50ed678fd8cc68f991fd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TELSTRA_AUTOBAND_3G</b>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:afcc2f22975bd50ed678fd8cc68f991fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The 3G autoband setting for the Telstra cell chips. <br /></td></tr>
<tr class="separator:afcc2f22975bd50ed678fd8cc68f991fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac98bd191d9d0d949fda5dd872c5a1e68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#ac98bd191d9d0d949fda5dd872c5a1e68">SOFT_RESET_DELAY_POWER_ON_TIME</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:ac98bd191d9d0d949fda5dd872c5a1e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45978f3db410586e2d0843183dffa4fd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a45978f3db410586e2d0843183dffa4fd">MAX_SHUTDOWN_ATTEMPTS</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a45978f3db410586e2d0843183dffa4fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871394b2f697b041ac58166c7857e771"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a871394b2f697b041ac58166c7857e771">CELL_RX_BUFFER_SIZE</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a871394b2f697b041ac58166c7857e771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae947de5ae7968fc884f7455459c2d404"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#ae947de5ae7968fc884f7455459c2d404">CELL_TX_BUFFER_SIZE</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:ae947de5ae7968fc884f7455459c2d404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33c233fe594748b5139a64f85505efd3"><td class="memItemLeft" align="right" valign="top"><a id="a33c233fe594748b5139a64f85505efd3" name="a33c233fe594748b5139a64f85505efd3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CELL_ENCODE_BUFFER_SIZE</b>&#160;&#160;&#160;<a class="el" href="ut_cell_8c.html#ae947de5ae7968fc884f7455459c2d404">CELL_TX_BUFFER_SIZE</a></td></tr>
<tr class="separator:a33c233fe594748b5139a64f85505efd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3584348b339bd7126c87395436b45e5d"><td class="memItemLeft" align="right" valign="top"><a id="a3584348b339bd7126c87395436b45e5d" name="a3584348b339bd7126c87395436b45e5d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RESET_CONNECTION_ERROR_COUNT_SECONDS</b>&#160;&#160;&#160;60</td></tr>
<tr class="separator:a3584348b339bd7126c87395436b45e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cbe974a7d24f889ec5442af3fa69cf1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a0cbe974a7d24f889ec5442af3fa69cf1">POST_SIM_FAILURE_COUNT_THRESHOLD</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a0cbe974a7d24f889ec5442af3fa69cf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a234a081dee50bcb72faccebeb87baecf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a234a081dee50bcb72faccebeb87baecf">SERVICE_2G</a>&#160;&#160;&#160;12</td></tr>
<tr class="separator:a234a081dee50bcb72faccebeb87baecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af96e105f38f4ffca4d6a7a84a194e01b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#af96e105f38f4ffca4d6a7a84a194e01b">SERVICE_3G</a>&#160;&#160;&#160;22</td></tr>
<tr class="separator:af96e105f38f4ffca4d6a7a84a194e01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19bbf5f33b086f6543a7bdb246c3c5b2"><td class="memItemLeft" align="right" valign="top"><a id="a19bbf5f33b086f6543a7bdb246c3c5b2" name="a19bbf5f33b086f6543a7bdb246c3c5b2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SERVICE_LTE</b>&#160;&#160;&#160;28</td></tr>
<tr class="separator:a19bbf5f33b086f6543a7bdb246c3c5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba845cc16702f1489390edb0e345954"><td class="memItemLeft" align="right" valign="top"><a id="aeba845cc16702f1489390edb0e345954" name="aeba845cc16702f1489390edb0e345954"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SERVICE_3G_LTE</b>&#160;&#160;&#160;31</td></tr>
<tr class="separator:aeba845cc16702f1489390edb0e345954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66545405847e4ee672a136cabb6b253a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a66545405847e4ee672a136cabb6b253a">SERVICE_ALL</a>&#160;&#160;&#160;25</td></tr>
<tr class="separator:a66545405847e4ee672a136cabb6b253a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae418247dcaca196cfa54fc77a19d591f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#ae418247dcaca196cfa54fc77a19d591f">RESPONSE_BUFFER_LENGTH</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:ae418247dcaca196cfa54fc77a19d591f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2a7603e083c7e8df5679bf41561f4be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#ac2a7603e083c7e8df5679bf41561f4be">SIG_STRENGTH_LEN</a>&#160;&#160;&#160;128</td></tr>
<tr class="separator:ac2a7603e083c7e8df5679bf41561f4be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09dbbd73a84cf772b421c6024b65b1fd"><td class="memItemLeft" align="right" valign="top"><a id="a09dbbd73a84cf772b421c6024b65b1fd" name="a09dbbd73a84cf772b421c6024b65b1fd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FILE_BUFFER_SIZE</b>&#160;&#160;&#160;100</td></tr>
<tr class="separator:a09dbbd73a84cf772b421c6024b65b1fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ccfd63a43986511ab86cb6bceed819"><td class="memItemLeft" align="right" valign="top"><a id="ac7ccfd63a43986511ab86cb6bceed819" name="ac7ccfd63a43986511ab86cb6bceed819"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CELL_INTERFACE_NAME</b>&#160;&#160;&#160;&quot;CELL&quot;</td></tr>
<tr class="separator:ac7ccfd63a43986511ab86cb6bceed819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a780072ec2f3e77d5eca1c2f82959b2a2"><td class="memItemLeft" align="right" valign="top"><a id="a780072ec2f3e77d5eca1c2f82959b2a2" name="a780072ec2f3e77d5eca1c2f82959b2a2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NUMBER_APN_FILES</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a780072ec2f3e77d5eca1c2f82959b2a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a755fc25a0a367dd2b6de05bd1b2bfe7d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a755fc25a0a367dd2b6de05bd1b2bfe7d">FStateHandler</a>) (u32 now)</td></tr>
<tr class="separator:a755fc25a0a367dd2b6de05bd1b2bfe7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ab14212c44d22a75ed125ff6ef6af37ab"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#ab14212c44d22a75ed125ff6ef6af37ab">CellConnectState</a> { <br />
&#160;&#160;<b>CELL_OFF</b> = 0
, <b>INIT_BUFFER</b>
, <b>FIRST_COMMAND</b>
, <b>MODEL</b>
, <br />
&#160;&#160;<b>VERSION</b>
, <b>GET_IMEI</b>
, <b>SET_SPEED</b>
, <b>SET_USER_ID</b>
, <br />
&#160;&#160;<b>SET_PASSWORD</b>
, <b>SIM_SETUP</b>
, <b>SIM_CHECK</b>
, <b>GET_APN</b>
, <br />
&#160;&#160;<b>SET_OPERATOR</b>
, <b>SET_SERVICE</b>
, <b>SET_BAND</b>
, <b>SIM_CHECK_POST_SETUP</b>
, <br />
&#160;&#160;<b>WAITING_ON_REG</b>
, <b>DEFINING_CONTEXT</b>
, <b>SOCKET_CONFIG</b>
, <b>QUERY_ACTIVATE</b>
, <br />
&#160;&#160;<b>ACTIVATE_GPRS</b>
, <b>AWAITING_CONNECTION_INFO</b>
, <b>GET_DNS_IP</b>
, <b>OPEN_CONNECTION</b>
, <br />
&#160;&#160;<b>CONNECTED</b>
, <b>CLOSE_CONNECTION</b>
, <b>SOCKET_STATUS_ON_CLOSE</b>
, <b>SHUT_SOCKET</b>
, <br />
&#160;&#160;<b>CHECK_IS_ALIVE</b>
, <b>CHECK_SIGNAL_STRENGTH</b>
, <b>OPEN_CONNECTION_FOR_HTTP_REQ</b>
, <b>GETTING</b>
, <br />
&#160;&#160;<b>FATAL</b>
, <b>MAX_CELL_STATE</b>
<br />
 }</td></tr>
<tr class="separator:ab14212c44d22a75ed125ff6ef6af37ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a643da49b152f8d2a7315fd4286704c51"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a643da49b152f8d2a7315fd4286704c51">CellFunction</a> { <br />
&#160;&#160;<b>WAITING_RESPONSE</b>
, <b>WAITING_BEFORE_SEND</b>
, <b>SENDING_DATA</b>
, <b>DATA_TO_SEND</b>
, <br />
&#160;&#160;<b>IDLE</b>
<br />
 }</td></tr>
<tr class="separator:a643da49b152f8d2a7315fd4286704c51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a490183a950e0d5ac59adcf088371bf05"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a490183a950e0d5ac59adcf088371bf05">CellResponse</a> { <br />
&#160;&#160;<b>OK</b> = 0
, <b>ERROR_RETRY</b> = 1
, <b>ERROR_RESET</b> = 2
, <b>NO_RESPONSE</b> = 3
, <br />
&#160;&#160;<b>UNK_RESPONSE</b> = 4
<br />
 }</td></tr>
<tr class="separator:a490183a950e0d5ac59adcf088371bf05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add68fdb4d1df9be45f7e3035a480b674"><td class="memItemLeft" align="right" valign="top"><a id="add68fdb4d1df9be45f7e3035a480b674" name="add68fdb4d1df9be45f7e3035a480b674"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>CellOperatorFunction</b> { <b>SCAN</b>
, <b>SET_AUTO</b>
, <b>SET_ID</b>
, <b>DO_NOTHING</b>
 }</td></tr>
<tr class="separator:add68fdb4d1df9be45f7e3035a480b674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec99704b79e564ee43c9b7b99fc2bc82"><td class="memItemLeft" align="right" valign="top"><a id="aec99704b79e564ee43c9b7b99fc2bc82" name="aec99704b79e564ee43c9b7b99fc2bc82"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>CellStatus</b> { <b>CELL_UNKNOWN</b>
, <b>CELL_HAS_NO_SIM</b>
, <b>CELL_HAS_BEEN_CONNECTED</b>
, <b>CELL_IS_CONNECTED</b>
 }</td></tr>
<tr class="separator:aec99704b79e564ee43c9b7b99fc2bc82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d2f93bca0dede1bc211d7a4384b308"><td class="memItemLeft" align="right" valign="top"><a id="ac6d2f93bca0dede1bc211d7a4384b308" name="ac6d2f93bca0dede1bc211d7a4384b308"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>APNGET</b> { <br />
&#160;&#160;<b>SEARCHING_FOR_MCC</b> = 0
, <b>SEARCHING_FOR_MNC</b>
, <b>SEARCHING_FOR_APN</b>
, <b>SEARCHING_FOR_USER</b>
, <br />
&#160;&#160;<b>SEARCHING_FOR_PASS</b>
, <b>SEARCHING_FOR_TYPE</b>
, <b>DEFINING_TYPES</b>
, <b>SEARCH_COMPLETE</b>
, <br />
&#160;&#160;<b>APN_ERROR</b>
<br />
 }</td></tr>
<tr class="separator:ac6d2f93bca0dede1bc211d7a4384b308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5767c1f7b035b6b35b5f4e5c84d2dbb9"><td class="memItemLeft" align="right" valign="top"><a id="a5767c1f7b035b6b35b5f4e5c84d2dbb9" name="a5767c1f7b035b6b35b5f4e5c84d2dbb9"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>CHAR4SEARCH</b> { <br />
&#160;&#160;<b>char1</b>
, <b>char2</b>
, <b>char3</b>
, <b>char4</b>
, <br />
&#160;&#160;<b>equals</b>
, <b>opening</b>
, <b>searching</b>
<br />
 }</td></tr>
<tr class="separator:a5767c1f7b035b6b35b5f4e5c84d2dbb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1e1b94e507f626d6f4f6ef4fefdd4e2"><td class="memItemLeft" align="right" valign="top"><a id="aa1e1b94e507f626d6f4f6ef4fefdd4e2" name="aa1e1b94e507f626d6f4f6ef4fefdd4e2"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>PowerOnState</b> { <br />
&#160;&#160;<b>PW_IDLE_ON</b>
, <b>PW_SHUTDOWN</b>
, <b>PW_POWER_UP_DELAY</b>
, <b>PW_MODULE_POWER_UP</b>
, <br />
&#160;&#160;<b>PW_MODULE_POWER_UP_LINE_LOW</b>
, <b>PW_MODULE_POWER_UP_REQUESTING_PWRMON_STATUS</b>
, <b>PW_PRE_AT_DELAY</b>
, <b>PW_SOFT_RESET</b>
, <br />
&#160;&#160;<b>PW_HARD_RESET</b>
, <b>PW_WAITING_ON_VOLTAGE</b>
<br />
 }</td></tr>
<tr class="separator:aa1e1b94e507f626d6f4f6ef4fefdd4e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a21a68fd52d8ea24a9633c1b688082770"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a21a68fd52d8ea24a9633c1b688082770">utCell_Notify</a> (UT_DeviceMessage state)</td></tr>
<tr class="separator:a21a68fd52d8ea24a9633c1b688082770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a600b8ca3a86d0d7a9772196ca3cb5c92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a600b8ca3a86d0d7a9772196ca3cb5c92">utCell_PowerMon</a> (bool isPowered)</td></tr>
<tr class="separator:a600b8ca3a86d0d7a9772196ca3cb5c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da38def4c8e918c216a480aacef4e6d"><td class="memItemLeft" align="right" valign="top"><a id="a6da38def4c8e918c216a480aacef4e6d" name="a6da38def4c8e918c216a480aacef4e6d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>utCell_ONOFFLine</b> (bool isHigh)</td></tr>
<tr class="separator:a6da38def4c8e918c216a480aacef4e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a732f266cf73ec579e052df099dac7e72"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a732f266cf73ec579e052df099dac7e72">utCell_IsConnected</a> (void)</td></tr>
<tr class="separator:a732f266cf73ec579e052df099dac7e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2b187387543010be02fdd9becc9a4b0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#ab2b187387543010be02fdd9becc9a4b0">utCell_HasEverBeenConnected</a> (void)</td></tr>
<tr class="separator:ab2b187387543010be02fdd9becc9a4b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842dcd7d020166adb505109262f10320"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a842dcd7d020166adb505109262f10320">utCell_IsOn</a> (void)</td></tr>
<tr class="separator:a842dcd7d020166adb505109262f10320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e538d5c7a075eae5bf9f457944df09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#aa6e538d5c7a075eae5bf9f457944df09">utCell_OnOff</a> (bool isOn, bool stayOn)</td></tr>
<tr class="separator:aa6e538d5c7a075eae5bf9f457944df09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df801e83a094c08d2ed6f39ede35560"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a5df801e83a094c08d2ed6f39ede35560">utCell_SoftReset</a> (void)</td></tr>
<tr class="separator:a5df801e83a094c08d2ed6f39ede35560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e11279e96ab4d0dbdbc332b6ea2c841"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a0e11279e96ab4d0dbdbc332b6ea2c841">utCell_HardReset</a> (void)</td></tr>
<tr class="separator:a0e11279e96ab4d0dbdbc332b6ea2c841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad71c1ddbd471f9af3357fbae4199c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#a0ad71c1ddbd471f9af3357fbae4199c3">utCell_ConnectInternal</a> (bool connect)</td></tr>
<tr class="separator:a0ad71c1ddbd471f9af3357fbae4199c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaedb1d12d2142503336b06e3a5fc754"><td class="memItemLeft" align="right" valign="top">u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ut_cell_8c.html#afaedb1d12d2142503336b06e3a5fc754">utCell_BytesToSend</a> (void)</td></tr>
<tr class="separator:afaedb1d12d2142503336b06e3a5fc754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ef5dc19bbc2599d65a524b2806e35e"><td class="memItemLeft" align="right" valign="top"><a id="ac1ef5dc19bbc2599d65a524b2806e35e" name="ac1ef5dc19bbc2599d65a524b2806e35e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>CheckUART1Pins</b> ()</td></tr>
<tr class="separator:ac1ef5dc19bbc2599d65a524b2806e35e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4bdf5c546bf596181af1624d2039f95c"><td class="memItemLeft" align="right" valign="top"><a id="a4bdf5c546bf596181af1624d2039f95c" name="a4bdf5c546bf596181af1624d2039f95c"></a>
CHAR4SEARCH&#160;</td><td class="memItemRight" valign="bottom"><b>SearchState</b> = char1</td></tr>
<tr class="separator:a4bdf5c546bf596181af1624d2039f95c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050c7df94849803eaba0010aa8811067"><td class="memItemLeft" align="right" valign="top"><a id="a050c7df94849803eaba0010aa8811067" name="a050c7df94849803eaba0010aa8811067"></a>
const u8&#160;</td><td class="memItemRight" valign="bottom"><b>cid</b> = 1</td></tr>
<tr class="separator:a050c7df94849803eaba0010aa8811067"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The cell software module handles configuring and running the cell hardware by means of a state engine. </p>
<p>See also <a class="el" href="ut_server_location_8c.html">utServerLocation.c</a> , which handles DNS and IP parsing and selection.</p>
<dl class="section author"><dt>Author</dt><dd>George Sealy </dd>
<dd>
Oscar Key</dd></dl>
<dl class="section date"><dt>Date</dt><dd>23/05/2011 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2011, Igtimi Ltd., all rights reserved. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a871394b2f697b041ac58166c7857e771" name="a871394b2f697b041ac58166c7857e771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a871394b2f697b041ac58166c7857e771">&#9670;&#160;</a></span>CELL_RX_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CELL_RX_BUFFER_SIZE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The size of the UART receive buffer between the CPU and the cell hardware module. </p>

</div>
</div>
<a id="ae947de5ae7968fc884f7455459c2d404" name="ae947de5ae7968fc884f7455459c2d404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae947de5ae7968fc884f7455459c2d404">&#9670;&#160;</a></span>CELL_TX_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CELL_TX_BUFFER_SIZE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The size of the UART transmit buffer between the CPU and the cell hardware module. </p>

</div>
</div>
<a id="a45978f3db410586e2d0843183dffa4fd" name="a45978f3db410586e2d0843183dffa4fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45978f3db410586e2d0843183dffa4fd">&#9670;&#160;</a></span>MAX_SHUTDOWN_ATTEMPTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_SHUTDOWN_ATTEMPTS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of times to try shutting down before resorting to a reset. </p>

</div>
</div>
<a id="a0cbe974a7d24f889ec5442af3fa69cf1" name="a0cbe974a7d24f889ec5442af3fa69cf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cbe974a7d24f889ec5442af3fa69cf1">&#9670;&#160;</a></span>POST_SIM_FAILURE_COUNT_THRESHOLD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POST_SIM_FAILURE_COUNT_THRESHOLD&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of times the cell module should loop through the post sim check states before resetting </p>

</div>
</div>
<a id="ae418247dcaca196cfa54fc77a19d591f" name="ae418247dcaca196cfa54fc77a19d591f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae418247dcaca196cfa54fc77a19d591f">&#9670;&#160;</a></span>RESPONSE_BUFFER_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RESPONSE_BUFFER_LENGTH&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The length, in bytes, of the response buffer for handling responses and events from the cell module. Must be at least 129 characters for parsing the DNS query lines. Must be at least 110 or so for #MONI commands. </p>

</div>
</div>
<a id="a234a081dee50bcb72faccebeb87baecf" name="a234a081dee50bcb72faccebeb87baecf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234a081dee50bcb72faccebeb87baecf">&#9670;&#160;</a></span>SERVICE_2G</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERVICE_2G&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The code for cell service 2G only selection. </p>

</div>
</div>
<a id="af96e105f38f4ffca4d6a7a84a194e01b" name="af96e105f38f4ffca4d6a7a84a194e01b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af96e105f38f4ffca4d6a7a84a194e01b">&#9670;&#160;</a></span>SERVICE_3G</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERVICE_3G&#160;&#160;&#160;22</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The code for cell service 3G only selection. </p>

</div>
</div>
<a id="a66545405847e4ee672a136cabb6b253a" name="a66545405847e4ee672a136cabb6b253a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66545405847e4ee672a136cabb6b253a">&#9670;&#160;</a></span>SERVICE_ALL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERVICE_ALL&#160;&#160;&#160;25</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The code for cell service multiple selection. </p>

</div>
</div>
<a id="ac2a7603e083c7e8df5679bf41561f4be" name="ac2a7603e083c7e8df5679bf41561f4be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2a7603e083c7e8df5679bf41561f4be">&#9670;&#160;</a></span>SIG_STRENGTH_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIG_STRENGTH_LEN&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The length, in bytes, of the response buffer for storing #MONI info for logging reasons. </p>

</div>
</div>
<a id="ac98bd191d9d0d949fda5dd872c5a1e68" name="ac98bd191d9d0d949fda5dd872c5a1e68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac98bd191d9d0d949fda5dd872c5a1e68">&#9670;&#160;</a></span>SOFT_RESET_DELAY_POWER_ON_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOFT_RESET_DELAY_POWER_ON_TIME&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of seconds the module should wait after powering down, before powering up after a soft reset </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a755fc25a0a367dd2b6de05bd1b2bfe7d" name="a755fc25a0a367dd2b6de05bd1b2bfe7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a755fc25a0a367dd2b6de05bd1b2bfe7d">&#9670;&#160;</a></span>FStateHandler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* FStateHandler) (u32 now)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The handler, run at intervals, for a given state. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ab14212c44d22a75ed125ff6ef6af37ab" name="ab14212c44d22a75ed125ff6ef6af37ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab14212c44d22a75ed125ff6ef6af37ab">&#9670;&#160;</a></span>CellConnectState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ut_cell_8c.html#ab14212c44d22a75ed125ff6ef6af37ab">CellConnectState</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The state list for the cell state engine. See the relevant flow chart. </p>

</div>
</div>
<a id="a643da49b152f8d2a7315fd4286704c51" name="a643da49b152f8d2a7315fd4286704c51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a643da49b152f8d2a7315fd4286704c51">&#9670;&#160;</a></span>CellFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ut_cell_8c.html#a643da49b152f8d2a7315fd4286704c51">CellFunction</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function, or sub-state, within a given state at any point in time. </p>

</div>
</div>
<a id="a490183a950e0d5ac59adcf088371bf05" name="a490183a950e0d5ac59adcf088371bf05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a490183a950e0d5ac59adcf088371bf05">&#9670;&#160;</a></span>CellResponse</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ut_cell_8c.html#a490183a950e0d5ac59adcf088371bf05">CellResponse</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The last response received from the cell hardware. Note that it can be reset in various cases </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>List said cases </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="afaedb1d12d2142503336b06e3a5fc754" name="afaedb1d12d2142503336b06e3a5fc754"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaedb1d12d2142503336b06e3a5fc754">&#9670;&#160;</a></span>utCell_BytesToSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 utCell_BytesToSend </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The number of bytes waiting to be transmitted by the appropriate UART. </dd></dl>

</div>
</div>
<a id="a0ad71c1ddbd471f9af3357fbae4199c3" name="a0ad71c1ddbd471f9af3357fbae4199c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ad71c1ddbd471f9af3357fbae4199c3">&#9670;&#160;</a></span>utCell_ConnectInternal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utCell_ConnectInternal </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>connect</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connect directs the cell state engine to connect (when it has the opportunity to do so) or disconnect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connect</td><td>Whether to connect or disconnect. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0e11279e96ab4d0dbdbc332b6ea2c841" name="a0e11279e96ab4d0dbdbc332b6ea2c841"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e11279e96ab4d0dbdbc332b6ea2c841">&#9670;&#160;</a></span>utCell_HardReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utCell_HardReset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>HardReset resets the cell module using a hardware line dedicated to this purpose. It is typically only used if SoftReset fails (e.g. if communication over the I2C bus has crashed). </p>

</div>
</div>
<a id="ab2b187387543010be02fdd9becc9a4b0" name="ab2b187387543010be02fdd9becc9a4b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2b187387543010be02fdd9becc9a4b0">&#9670;&#160;</a></span>utCell_HasEverBeenConnected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool utCell_HasEverBeenConnected </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>HasEverBeenConnected is used for determining whether or not the cell has ever had a data connection to a uServe instance/</p>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the cell has ever had a data connection to a server somewhere. </dd></dl>

</div>
</div>
<a id="a732f266cf73ec579e052df099dac7e72" name="a732f266cf73ec579e052df099dac7e72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a732f266cf73ec579e052df099dac7e72">&#9670;&#160;</a></span>utCell_IsConnected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool utCell_IsConnected </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IsConnected is used for determining whether or not the cell has a data connection to a uServe instance/</p>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the cell has a data connection to a server somewhere. </dd></dl>

</div>
</div>
<a id="a842dcd7d020166adb505109262f10320" name="a842dcd7d020166adb505109262f10320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a842dcd7d020166adb505109262f10320">&#9670;&#160;</a></span>utCell_IsOn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool utCell_IsOn </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IsOn is used for determining whether or not the cell module is powered on/</p>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the cell module is powered on. </dd></dl>

</div>
</div>
<a id="a21a68fd52d8ea24a9633c1b688082770" name="a21a68fd52d8ea24a9633c1b688082770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21a68fd52d8ea24a9633c1b688082770">&#9670;&#160;</a></span>utCell_Notify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool utCell_Notify </td>
          <td>(</td>
          <td class="paramtype">UT_DeviceMessage&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The Notify function passes a message to the software module, informing it of expected module <em>state</em>. It returns a value that is considered a response to a query about the specified <em>state</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>A state message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether or not this software module is in the desired <em>state</em>. </dd></dl>

</div>
</div>
<a id="aa6e538d5c7a075eae5bf9f457944df09" name="aa6e538d5c7a075eae5bf9f457944df09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e538d5c7a075eae5bf9f457944df09">&#9670;&#160;</a></span>utCell_OnOff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utCell_OnOff </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isOn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stayOn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>OnOff turns the cell on or off.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">isOn</td><td>The desired power state for the cell to be in. </td></tr>
    <tr><td class="paramname">stayOn</td><td>Whether the cell hardware should remain powered after the software is "turned off". </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a600b8ca3a86d0d7a9772196ca3cb5c92" name="a600b8ca3a86d0d7a9772196ca3cb5c92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a600b8ca3a86d0d7a9772196ca3cb5c92">&#9670;&#160;</a></span>utCell_PowerMon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utCell_PowerMon </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isPowered</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>PowerMon is called when a PIC event concerning the power to the cell hardware occurs. If the battery voltage is below the cutoff threshold of 3.4V, the cell will be shutdown to conserve power.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">isPowered</td><td>Whether or not the cell hardware has power. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5df801e83a094c08d2ed6f39ede35560" name="a5df801e83a094c08d2ed6f39ede35560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5df801e83a094c08d2ed6f39ede35560">&#9670;&#160;</a></span>utCell_SoftReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void utCell_SoftReset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SoftReset resets the cell module by attempting a normal shutdown and power off followed by a powerup. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 26 2024 11:01:16 for uTrack by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
